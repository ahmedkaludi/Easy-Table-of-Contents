jQuery((function(e){if("undefined"!=typeof ezTOC){function t(){if(0!==e(".ez-toc-widget-container.ez-toc-affix").length){var t=30;void 0!==ezTOC.scroll_offset&&(t=parseInt(ezTOC.scroll_offset)),e(ezTOC.affixSelector).stick_in_parent({inner_scrolling:!1,offset_top:t})}if(e.fn.shrinkTOCWidth=function(){e(this).css({width:"auto",display:"table"}),/MSIE 7\./.test(navigator.userAgent)&&e(this).css("width","")},1===parseInt(ezTOC.smooth_scroll)&&e("a.ez-toc-link").on("click",(function(t){t.preventDefault();var i=e(this),o="",n=i.prop("hostname"),a=i.prop("pathname"),s=i.prop("search"),r=i.prop("hash");if(a.length>0&&"/"!==a.charAt(0)&&(a="/"+a),window.location.hostname===n&&window.location.pathname===a&&window.location.search===s&&""!==r){if(o='[id="'+r.replace("#","")+'"]',0===e(o).length&&(o=""),void 0!==ezTOC.scroll_offset)var c=-1*ezTOC.scroll_offset;else{var d=e("#wpadminbar");c=d.length>0&&d.is(":visible")?-30:0}o&&e.smoothScroll({scrollTarget:o,offset:c,beforeScroll:h,afterScroll:function(){l(),f()}})}})),void 0!==ezTOC.visibility_hide_by_default){var i=e("ul.ez-toc-list"),o=e("a.ez-toc-toggle"),n=ezTOC.visibility_hide_by_default;o.css("display","inline"),Cookies&&1==Cookies.get("ezTOC_hidetoc")?o.data("visible",!1):o.data("visible",!0),n&&o.data("visible",!1),o.data("visible")||i.hide(),o.on("click",(function(t){t.preventDefault(),e(this).data("visible")?(e(this).data("visible",!1),Cookies&&(n?Cookies.set("ezTOC_hidetoc",null,{path:"/"}):Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"})),i.hide("fast")):(e(this).data("visible",!0),Cookies&&(n?Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"}):Cookies.set("ezTOC_hidetoc",null,{path:"/"})),i.show("fast"))}))}var a=e("span.ez-toc-section").toArray(),s=function(t){return t.reduce((function(t,i){return t[i.id]=function(t){return e('.ez-toc-widget-container .ez-toc-list a[href="#'+e(t).attr("id")+'"]')}(i),t}),{})}(a),r=e.map(s,(function(e,t){return e})),c=function(){var t=5;void 0!==ezTOC.smooth_scroll&&1===parseInt(ezTOC.smooth_scroll)&&(t=void 0!==ezTOC.scroll_offset?parseInt(ezTOC.scroll_offset):30);var i=e("#wpadminbar");i.length&&(t+=i.height());return t}();function l(){var t=function(t,i){var o=e(window).scrollTop()+t+1,n=i[0],a=o-e(n).offset().top;return i.forEach((function(t){var i=o-e(t).offset().top;i>0&&i<a&&(a=i,n=t)})),n}(c,a);if(t){var i=s[t.id];!function(e,t){t.forEach((function(t){e!==t&&t.parent().hasClass("active")&&t.parent().removeClass("active")}))}(i,r),function(t){var i=t.parent();i.hasClass("active")||i.addClass("active");!function(t){!function(t){e("#ez-toc-active-height").remove(),e('<style id="ez-toc-active-height">.ez-toc-widget-container ul.ez-toc-list li.active::before {height:'+t+"px;} </style>").appendTo("head")}(function(t){var i=e(t),o=i.html();i.parent().append('<li id="ez-toc-height-test" class="active">'+o+"</li>");var n=e("#ez-toc-height-test"),a=n.height();return n.remove(),a-i.children("ul").first().height()}(t))}(i)}(i)}}function f(){a.length>0&&e(".ez-toc-widget-container").length&&e(window).on("load resize scroll",l)}function h(){e(window).off("load resize scroll",l)}f()}ezTOC.init=function(){t()},t()}}));