jQuery(function(t){var e,i,o,c=t("span.ez-toc-section").toArray(),s=(e=c,e.reduce(function(e,i){var o;return e[i.id]=t('.ez-toc-widget-sticky-container .ez-toc-widget-sticky-list a[href="#'+t(o=i).attr("id")+'"]'),e},{})),a=t.map(s,function(t,e){return t}),n=(i=5,void 0!==ezTOC.smooth_scroll&&1===parseInt(ezTOC.smooth_scroll)&&(i=void 0!==ezTOC.scroll_offset?parseInt(ezTOC.scroll_offset):30),o=t("#wpadminbar"),o.length&&(i+=o.height()),i);function r(){var e,i,o,r,l,d=(e=n,i=c,o=t(window).scrollTop()+e+1,r=i[0],l=o-t(r).offset().top,i.forEach(function(e){var i=o-t(e).offset().top;i>0&&i<l&&(l=i,r=e)}),r);if(d){var h,g,f,p,v,z,y,w,u,k=s[d.id];(function t(e,i){i.forEach(function(t){e!==t&&t.parent().hasClass("active")&&t.parent().removeClass("active")})})(k,a),(f=(h=k).parent()).hasClass("active")||f.addClass("active"),u=(p=g=f,v=t(p),z=v.html(),v.parent().append('<li id="ez-toc-widget-sticky-height-test" class="active">'+z+"</li>"),y=t("#ez-toc-widget-sticky-height-test"),w=y.height(),y.remove(),w-v.children("ul").first().height()),t("#ez-toc-widget-sticky-active-height").remove(),t('<style id="ez-toc-widget-sticky-active-height">.ez-toc-widget-sticky-container ul.ez-toc-widget-sticky-list li.active {height:'+u+"px;} </style>").appendTo("head")}}function l(){t(window).off("load resize scroll",r)}c.length>0&&t(".ez-toc-widget-sticky-container").length&&t(window).on("load resize scroll",r),setTimeout(function(){jQuery(window).on("load resize scroll",h)},100);var d="";function h(e){e.preventDefault(),jQuery(window).scrollTop()>=30?(jQuery(".ez-toc-widget-sticky").css({position:"fixed",width:t("#ez-toc-widget-sticky-container").parents(".widget-area").width(),top:"30px"}),jQuery(".ez-toc-widget-sticky nav").css({"overflow-y":"auto","max-height":"calc(100vh - 111px)"})):jQuery(".ez-toc-widget-sticky").attr("style",!1);var i=jQuery("#ez-toc-widget-sticky-container li.active a").attr("href");let o=Math.round(jQuery("#ez-toc-widget-sticky-container .ez-toc-link[href='"+i+"']").position().top);var c=Math.round(jQuery("#ez-toc-widget-sticky-container nav>ul>li:last-child a").position().top);i!=d&&(console.log("ezTocOffsetTopDynamic:"+o),console.log("ezTocLastChildTop:"+c),console.log(jQuery(".ez-toc-widget-sticky nav").scrollTop()+o),jQuery(".ez-toc-widget-sticky nav").scrollTop(Math.round(jQuery(".ez-toc-widget-sticky nav").scrollTop()+o)-50)),d=i}});